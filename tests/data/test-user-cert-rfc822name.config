# User authentication method. Could be set multiple times and in that case
# all should succeed.
# Options: certificate, pam.
auth = "certificate"
auth = "plain[@SRCDIR@/data/test-rfc822.passwd]"

isolate-workers = @ISOLATE_WORKERS@

use-dbus = no

max-clients = 16
max-same-clients = 2

# TCP and UDP port number
tcp-port = @PORT@
udp-port = @PORT@

keepalive = 32400
dpd = 440
try-mtu-discovery = false

server-cert = @SRCDIR@/certs/server-cert-ca.pem
server-key = @SRCDIR@/certs/server-key.pem

ca-cert = @SRCDIR@/certs/ca.pem

# Use the RFC 822 email address from the Subject Alternative Name as username
cert-user-oid = SAN(rfc822name)

tls-priorities = "PERFORMANCE:%SERVER_PRECEDENCE:%COMPAT"

auth-timeout = 40

use-utmp = true
pid-file = ./ocserv.pid
socket-file = ./ocserv-socket

run-as-user = @USERNAME@
run-as-group = @GROUP@

device = vpns
default-domain = example.com

ipv4-network = 192.168.1.0
ipv4-netmask = 255.255.255.0
ipv4-dns = 192.168.1.1

ping-leases = false

route = 192.168.1.0/255.255.255.0

cisco-client-compat = true
